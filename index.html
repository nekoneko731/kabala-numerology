<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚«ãƒãƒ©æ•°ç§˜è¡“ï½œé‹å‘½æ•°ãƒã‚§ãƒƒã‚«ãƒ¼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      --pink-light: #ffe6f1;
      --pink-main:  #ff4b9a;
      --pink-deep:  #e33682;
      --purple:     #a066ff;
      --blue:       #4a9dff;
      --text-main:  #4c3b52;
      --error:      #e05757;
      --shadow-soft: 0 14px 40px rgba(255, 90, 160, 0.28);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont,
        "Hiragino Kaku Gothic ProN", "æ¸¸ã‚´ã‚·ãƒƒã‚¯ä½“",
        "YuGothic", "ãƒ¡ã‚¤ãƒªã‚ª", sans-serif;
      background: radial-gradient(circle at top left,
                  #ffeef7, #ffe6f1 40%, #f8eaff 70%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      color: var(--text-main);
    }

    .app {
      width: 100%;
      max-width: 720px;
      background: #ffffff;
      border-radius: 24px;
      padding: 28px 22px 32px;
      box-shadow: var(--shadow-soft);
    }

    h1 {
      text-align: center;
      font-size: 26px;
      background: linear-gradient(120deg, var(--pink-main), var(--purple));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin: 0 0 4px;
    }

    .subtitle {
      text-align: center;
      font-size: 14px;
      color: #7a667f;
      margin: 0 0 20px;
    }

    label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: var(--text-main);
      margin-bottom: 6px;
    }

    select {
      width: 100%;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid #f4b6d3;
      background: #fff7fb;
      font-size: 16px;
      margin-bottom: 10px;
    }

    /* ã€Œæ—¥ã€ã®ä¸‹ã ã‘å°‘ã—ä½™ç™½ã‚’å¢—ã‚„ã™ */
    #day {
      margin-bottom: 24px;
    }

    button {
      width: 100%;
      padding: 20px 32px;
      border-radius: 999px;
      border: none;
      font-size: 18px;
      font-weight: 600;
      background: linear-gradient(135deg, var(--pink-main), var(--purple));
      color: #fff;
      cursor: pointer;
      box-shadow: 0 10px 26px rgba(226, 54, 130, 0.45);
      margin-top: 16px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 32px rgba(226, 54, 130, 0.55);
    }

    button:active {
      transform: translateY(0);
    }

    .note {
      font-size: 12px;
      color: #8a758f;
      margin: 10px 0 0;
    }

    .error {
      font-size: 13px;
      color: var(--error);
      min-height: 1.2em;
      margin-top: 6px;
      margin-bottom: 10px;
    }

    .result {
      display: none;
      margin-top: 24px;
      padding-top: 20px;
      border-top: 1px dashed rgba(255,148,196,0.7);
    }

    .result-title {
      text-align: center;
      font-size: 18px;
      color: #7a667f;
      margin-bottom: 6px;
    }

    .result-number {
      font-size: 48px;
      font-weight: 700;
      text-align: center;
      background: linear-gradient(135deg, var(--pink-deep), var(--blue));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin: 0 0 10px;
    }

    .keyword-block,
    .desc-block {
      background: rgba(255, 246, 252, 0.9);
      border: 1px solid rgba(255, 180, 221, 0.7);
      border-radius: 14px;
      padding: 12px;
      margin-bottom: 14px;
    }

    .keyword-block strong,
    .desc-block strong {
      display: block;
      margin-bottom: 6px;
      color: var(--pink-deep);
    }

    .reset-btn {
      width: 100%;
      margin-top: 16px;
      padding: 14px;
      font-size: 16px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #ff7ab8, #a066ff);
      color: #fff;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .reset-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 26px rgba(160, 102, 255, 0.45);
    }

    .reset-btn:active {
      transform: translateY(0);
    }

    @media (max-width: 480px) {
      .app {
        padding: 20px 16px 24px;
      }
      h1 {
        font-size: 22px;
      }
      button {
        font-size: 16px;
        padding: 16px 24px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>âœ¨ ã‚«ãƒãƒ©æ•°ç§˜è¡“</h1>
    <p class="subtitle">ã‚ãªãŸã®ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰æ•°ç§˜ï¼ˆé‹å‘½æ•°ï¼‰ã‚’èª¿ã¹ã¾ã™ã€‚</p>

    <label for="year">å¹´</label>
    <select id="year">
      <option value="">å¹´ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
    </select>

    <label for="month">æœˆ</label>
    <select id="month">
      <option value="">æœˆã‚’é¸æŠã—ã¦ãã ã•ã„</option>
    </select>

    <label for="day">æ—¥</label>
    <select id="day">
      <option value="">æ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
    </select>

    <button id="calcBtn">ğŸ’— æ•°ç§˜ï¼ˆé‹å‘½æ•°ï¼‰ã‚’èª¿ã¹ã‚‹</button>

    <p class="note">
      ğŸ” å…¥åŠ›ã„ãŸã ã„ãŸèª•ç”Ÿæ—¥ã‚„çµæœã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã®ã§ã€å®‰å¿ƒã—ã¦ãŠä½¿ã„ãã ã•ã„ã€‚
    </p>

    <p id="error" class="error"></p>

    <div id="result" class="result">
      <p class="result-title">âœ¨ ã‚ãªãŸã®æ•°ç§˜ï¼ˆé‹å‘½æ•°ï¼‰ã¯â€¦</p>
      <p class="result-number" id="resultNumber">-</p>

      <div class="keyword-block">
        <strong>ğŸ”‘ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</strong>
        <p id="resultKeyword"></p>
      </div>

      <div class="desc-block">
        <strong>ğŸ“– ç‰¹å¾´</strong>
        <p id="resultDescription"></p>
      </div>

      <button class="reset-btn" id="resetBtn">ã‚‚ã†ä¸€åº¦èª¿ã¹ã‚‹</button>
    </div>
  </div>

  <script>
    // ã‚«ãƒãƒ©æ•°ç§˜è¡“ã®æ„å‘³ãƒ‡ãƒ¼ã‚¿ï¼ˆ1ã€œ9, 11, 22ï¼‰
    const numerologyData = {
      1: {
        keyword: "ã‚¹ã‚¿ãƒ¼ãƒˆãƒ»ãƒªãƒ¼ãƒ€ãƒ¼ãƒ»è‡ªç«‹",
        description: "æ–°ã—ã„æµã‚Œã‚’ç”Ÿã¿å‡ºã—ã€è‡ªåˆ†ã®æ„æ€ã§æœªæ¥ã‚’åˆ‡ã‚Šé–‹ãã‚¿ã‚¤ãƒ—ã€‚è¡Œå‹•åŠ›ã¨æ±ºæ–­åŠ›ã§å‘¨ã‚Šã‚’å¼•ã£ã±ã£ã¦ã„ãã¾ã™ã€‚"
      },
      2: {
        keyword: "ã‚„ã•ã—ã•ãƒ»èª¿å’Œãƒ»ã‚µãƒãƒ¼ãƒˆ",
        description: "äººã®æ°—æŒã¡ã«å¯„ã‚Šæ·»ã„ã€å ´ã‚’ç©ã‚„ã‹ã«æ•´ãˆã‚‹ã‚„ã‚ã‚‰ã‹ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã®äººã€‚èãå½¹ã‚„ã¤ãªãå½¹ã¨ã—ã¦æ„›ã•ã‚Œã¾ã™ã€‚"
      },
      3: {
        keyword: "æ¥½ã—ã•ãƒ»ç™ºæƒ³åŠ›ãƒ»å­ã©ã‚‚å¿ƒ",
        description: "æ˜ã‚‹ã•ã¨ã²ã‚‰ã‚ãã§å‘¨ã‚Šã«è»½ã‚„ã‹ãªæ³¢å‹•ã‚’åºƒã’ã‚‹è‡ªç”±ãªè¡¨ç¾è€…ã€‚å¥½ããªã“ã¨ã‚’æ¥½ã—ã‚€ã»ã©é­…åŠ›ãŒé«˜ã¾ã‚Šã¾ã™ã€‚"
      },
      4: {
        keyword: "å®‰å®šãƒ»ã‚³ãƒ„ã‚³ãƒ„ãƒ»ä¿¡é ¼",
        description: "ä¸å¯§ã«ç©ã¿é‡ã­ã‚‹åŠ›ã§å®‰å¿ƒã‚’ç”Ÿã¿ã€ä¿¡é ¼ã‚’é›†ã‚ã‚‹åœŸå°ã¥ãã‚Šã®äººã€‚ã¾ã˜ã‚ã•ã¨ç¶™ç¶šåŠ›ãŒå¤§ããªå®Ÿã‚Šã«ã¤ãªãŒã‚Šã¾ã™ã€‚"
      },
      5: {
        keyword: "å¤‰åŒ–ãƒ»è‡ªç”±ãƒ»å†’é™º",
        description: "æ–°ã—ã„é¢¨ã‚’å‘¼ã³è¾¼ã¿ã€å¤‰åŒ–ã‚’æ¥½ã—ã¿ãªãŒã‚‰ä¸–ç•Œã‚’åºƒã’ã¦ã„ãã‚¿ã‚¤ãƒ—ã€‚ãƒ•ãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è»½ã•ãŒãƒãƒ£ãƒ³ã‚¹ã‚’é€£ã‚Œã¦ãã¾ã™ã€‚"
      },
      6: {
        keyword: "æ„›æƒ…ãƒ»ã‚±ã‚¢ãƒ»ç¾ã—ã•",
        description: "ã‚ãŸãŸã‹ãªæ„›ã§äººã‚’åŒ…ã¿ã€å¿ƒåœ°ã‚ˆã„ç©ºé–“ã‚„èª¿å’Œã‚’ç”Ÿã¿å‡ºã™ç™’ã—ã®äººã€‚èº«è¿‘ãªäººã‚’å¤§åˆ‡ã«ã™ã‚‹ã»ã©é­…åŠ›ãŒè¼ãã¾ã™ã€‚"
      },
      7: {
        keyword: "æ¢æ±‚ãƒ»æœ¬è³ªãƒ»ãƒã‚¤ãƒšãƒ¼ã‚¹",
        description: "ç‰©ã”ã¨ã®æœ¬è³ªã‚’é™ã‹ã«è¦‹ã¤ã‚ã€æ·±ã„æ´å¯Ÿã§æ–°ã—ã„æ°—ã¥ãã‚’å±Šã‘ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ä¸€äººæ™‚é–“ã‚‚å¤§åˆ‡ã«ã™ã‚‹ç ”ç©¶è€…æ°—è³ªã§ã™ã€‚"
      },
      8: {
        keyword: "ãƒ‘ãƒ¯ãƒ¼ãƒ»æˆæœãƒ»è±Šã‹ã•",
        description: "è¡Œå‹•åŠ›ã§ç‰©äº‹ã‚’å½¢ã«ã—ã€è±Šã‹ã•ã®æµã‚Œã‚’å¼•ãå¯„ã›ã‚‹å®Ÿç¾åŠ›ã®äººã€‚ç›®æ¨™ã«å‘ã‹ã†ã»ã©é ¼ã‚‰ã‚Œã‚‹å­˜åœ¨ã«ãªã‚Šã¾ã™ã€‚"
      },
      9: {
        keyword: "å„ªã—ã•ãƒ»å¥‰ä»•ãƒ»ã¾ã¨ã‚å½¹",
        description: "åºƒã„è¦–é‡ã§äººã«å¯„ã‚Šæ·»ã„ã€æµã‚Œã‚’ã‚„ã‚ã‚‰ã‹ãæ•´ãˆã‚‹èª¿å’Œã®äººã€‚ã¿ã‚“ãªã®æ°—æŒã¡ã‚’ãã¿å–ã‚‹ã¾ã¨ã‚å½¹ã§ã™ã€‚"
      },
      11: {
        keyword: "ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ç›´æ„Ÿ",
        description: "æ„Ÿæ€§ãŒã¨ã¦ã‚‚ç¹Šç´°ã§ã€ç›´æ„Ÿã«ã™ãã‚ŒãŸäººã€‚ãµã¨æµ®ã‹ã¶ã²ã‚‰ã‚ããŒå‘¨ã‚Šã‚’ç…§ã‚‰ã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ãªã£ã¦ã„ãã¾ã™ã€‚"
      },
      22: {
        keyword: "å¤§ããªãƒ“ã‚¸ãƒ§ãƒ³ãƒ»ç¾å®ŸåŒ–",
        description: "å¤§ããªé¡˜ã„ã‚’ç¾å®Ÿã«ã¤ãªã’ã¦ã„ãåŠ›ã‚’æŒã¤ãƒ“ãƒ«ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã€‚ã¿ã‚“ãªã®å¤¢ã‚’å½¢ã«ã™ã‚‹ã‚µãƒãƒ¼ãƒˆå½¹ã¨ã—ã¦æ´»èºã—ã¦ã„ãã¾ã™ã€‚"
      }
    };

    // å¹´ãƒ»æœˆãƒ»æ—¥ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã®ç”Ÿæˆ
    const yearSelect  = document.getElementById("year");
    const monthSelect = document.getElementById("month");
    const daySelect   = document.getElementById("day");

    // å¹´ï¼š1900ã€œä»Šå¹´
    const currentYear = new Date().getFullYear();
    for (let y = currentYear; y >= 1900; y--) {
      const op = document.createElement("option");
      op.value = y;
      op.textContent = `${y}å¹´`;
      yearSelect.appendChild(op);
    }

    // æœˆï¼š1ã€œ12
    for (let m = 1; m <= 12; m++) {
      const op = document.createElement("option");
      op.value = m;
      op.textContent = `${m}æœˆ`;
      monthSelect.appendChild(op);
    }

    // æ—¥ï¼š1ã€œ31
    for (let d = 1; d <= 31; d++) {
      const op = document.createElement("option");
      op.value = d;
      op.textContent = `${d}æ—¥`;
      daySelect.appendChild(op);
    }

    // ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼å¯¾å¿œã®ã‚«ãƒãƒ©è¨ˆç®—
    function calcDestinyNumber(year, month, day) {
      const dateString = `${year}${month}${day}`;
      let sum = 0;
      for (const ch of dateString) {
        sum += parseInt(ch, 10);
      }

      // 11 ã¨ 22 ã¯ãã®ã¾ã¾æ®‹ã™
      while (true) {
        if (sum === 11 || sum === 22 || sum <= 9) return sum;
        const s = sum.toString();
        let next = 0;
        for (const ch of s) next += parseInt(ch, 10);
        sum = next;
      }
    }

    const errorEl   = document.getElementById("error");
    const resultEl  = document.getElementById("result");
    const numEl     = document.getElementById("resultNumber");
    const keyEl     = document.getElementById("resultKeyword");
    const descEl    = document.getElementById("resultDescription");
    const calcBtn   = document.getElementById("calcBtn");
    const resetBtn  = document.getElementById("resetBtn");

    calcBtn.addEventListener("click", function (e) {
      e.preventDefault();

      const y = yearSelect.value;
      const m = monthSelect.value;
      const d = daySelect.value;

      // å…¥åŠ›ãƒã‚§ãƒƒã‚¯
      if (!y || !m || !d) {
        errorEl.textContent = "âš ï¸ ç”Ÿå¹´æœˆæ—¥ã‚’ã™ã¹ã¦é¸æŠã—ã¦ãã ã•ã„ã€‚";
        resultEl.style.display = "none";
        return;
      }

      const date = new Date(y, m - 1, d);
      if (date.getFullYear() !== Number(y) ||
          date.getMonth() + 1 !== Number(m) ||
          date.getDate() !== Number(d)) {
        errorEl.textContent = "âš ï¸ æ­£ã—ã„æ—¥ä»˜ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚";
        resultEl.style.display = "none";
        return;
      }

      errorEl.textContent = "";

      const n = calcDestinyNumber(y, m, d);
      const data = numerologyData[n];

      numEl.textContent  = n;
      keyEl.textContent  = data ? data.keyword : "";
      descEl.textContent = data ? data.description : "";
      resultEl.style.display = "block";

      resultEl.scrollIntoView({ behavior: "smooth", block: "nearest" });
    });

    resetBtn.addEventListener("click", function (e) {
      e.preventDefault();
      yearSelect.value  = "";
      monthSelect.value = "";
      daySelect.value   = "";
      errorEl.textContent = "";
      resultEl.style.display = "none";
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
</body>
</html>
